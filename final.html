<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Aurora Flame</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;700&display=swap" rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/kute.js@2.1.2/dist/kute.min.js"></script>
</head>
<body>
<header class="hero">
    <h1 class="hero-title">The Aurora Flame</h1>
    <p class="hero-subtitle">Igniting Innovation</p>
</header>

<div class="spacer"></div>

<section class="feature-section">
    <div class="feature-container">
        <div class="text-content">
            <h2 class="feature-subtitle">Durable and Ergonomic</h2>
            <h1 class="feature-title">Design</h1>
        </div>
        <div class="image-container main-img"></div>
    </div>
</section>

<section class="feature-section luxury-section">
    <div class="feature-container">
        <div class="text-content">
            <h2 class="feature-subtitle">Luxury</h2>
            <h1 class="feature-title">Design</h1>
        </div>
        <div class="image-container sub-img"></div>
    </div>
</section>

<div class="innovation-ani">
    <h2><span>I</span>
        <span>N</span>
        <span>N</span>
        <span>O</span>
        <span>V</span>
        <span>A</span>
        <span>T</span>
        <span>I</span>
        <span>O</span>
        <span>N</span></h2>

    <svg id="visual" viewBox="0 0 900 600" width="900" height="600" xmlns="http://www.w3.org/2000/svg"
         class="blob-motion"
         xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">
        <g transform="translate(430.475732020895 279.8112764311451)">
            <path id="blob1"
                  d="M183 -91C226.3 -30.7 243.1 59.7 208.1 125.2C173.2 190.7 86.6 231.3 16.2 222C-54.1 212.6 -108.3 153.2 -145.4 86.4C-182.4 19.7 -202.5 -54.4 -175.4 -105.4C-148.4 -156.3 -74.2 -184.2 -2.2 -182.9C69.9 -181.7 139.7 -151.3 183 -91"
                  fill="#BB004B"></path>
        </g>

        <g transform="translate(456.10591469826187 280.08091576728395)" style="visibility:hidden">
            <path id="blob2"
                  d="M121.2 -170.7C133.5 -134.1 103.7 -73.5 91.6 -32.4C79.6 8.8 85.2 30.7 87.7 73.4C90.1 116.1 89.4 179.8 57.1 218C24.9 256.2 -38.9 269.1 -80.2 243.8C-121.5 218.6 -140.4 155.3 -135.6 106.1C-130.9 57 -102.4 22 -99.8 -21.9C-97.2 -65.9 -120.6 -118.7 -108.3 -155.4C-96 -192.1 -48 -212.5 3.2 -216.4C54.4 -220.2 108.8 -207.4 121.2 -170.7"
                  fill="#BB004B"></path>
        </g>
    </svg>
</div>

<script>
    const tween = KUTE.fromTo(
        '#blob1',
        {path: '#blob1'},
        {path: '#blob2'},
        {repeat: 999, duration: 3000, yoyo: true, easing: 'easingCubicInOut'}
    ).start();
</script>

<div class="layer-spacer layer2 no-padding"></div>

<div class="rose no-padding centered">
    <div class="scroll-trigger">
        <h1 class="no-padding pop-trigger">We are constantly innovating to prove that cars can be safe, affordable,</h1>
        <h1 class="no-padding blue-text"><strong>and luxurious.</strong></h1>
    </div>

    <div class="sliding-image"></div>

    <script>
        scrolling_image = document.querySelector('.sliding-image');
        window.addEventListener('scroll', function () {
            let scroll_position = window.scrollY;

            split_data = scrolling_image.style.transform.split(' ');

            if (split_data.length === 1) {
                scrolling_image.style.transform = `translateY(${-scroll_position / 5}px)`;
            } else {
                scrolling_image.style.transform = `translateY(${-scroll_position / 5}px) ${split_data[1]}`;
            }
        });

        let x = 0
        let y = 0
        document.addEventListener('mousemove', function (e) {
            x = e.clientX;
            y = e.clientY;
        });

        function pointInsideElement(element, x, y) {
            const rect = element.getBoundingClientRect();
            return x >= rect.left && x <= rect.right && y >= rect.top && y <= rect.bottom;
        }

        function manager_loop() {
            setTimeout(() => {
                if (pointInsideElement(scrolling_image, x, y)) {
                    if (scrolling_image.style.transform.split(' ').length === 1) {
                        scrolling_image.style.transform = `${scrolling_image.style.transform} scale(1.001)`;
                        console.log(scrolling_image.style.transform)
                    } else {
                        let split_data = scrolling_image.style.transform.split(' ');
                        let current_val = parseFloat(split_data[1].split('(')[1].split(')')[0]);
                        if (current_val < 1.1) {
                            current_val *= 1.003;
                            scrolling_image.style.transform = `${split_data[0]} scale(${current_val.toString()})`;
                        }
                    }
                } else {
                    let split_data = scrolling_image.style.transform.split(' ');
                    if (split_data.length === 2) {
                        let current_val = parseFloat(split_data[1].split('(')[1].split(')')[0]);
                        if (current_val > 1) {
                            current_val /= 1.003;
                            scrolling_image.style.transform = `${split_data[0]} scale(${current_val.toString()})`;
                        }
                    }
                }

                manager_loop();
            });
        }

        manager_loop();
    </script>

</div>

<div class="layer-spacer layer2 flip no-padding"></div>

<footer>
    <button><a href="mailto:ablass@norwoodschool.org">Contact US</a></button>
</footer>

<!--This is the text pop up effect-->
<script>
    const popUpText = document.querySelector('.pop-trigger');
    const scrollTrigger = document.querySelector('.scroll-trigger');

    if (popUpText && scrollTrigger) {
        const observer = new IntersectionObserver((entries) => {
            entries.forEach((entry) => {
                if (entry.isIntersecting) {
                    popUpText.classList.add('active');
                    observer.unobserve(scrollTrigger); // Stop observing after animation
                }
            });
        });

        observer.observe(scrollTrigger);
    }
</script>
</body>
</html>